# spbgu-entrance-test
Определение циклов в графе - вступительное испытание СПбГУ
Вовк Владислав Александрович

# Graph Cycle Detector

Программа для определения наличия циклов в ориентированном графе. Реализована в рамках вступительных испытаний.

## Описание

Программа принимает на вход ориентированный граф в виде списка смежности и определяет, содержит ли он циклы. Использует алгоритм поиска в глубину (DFS) с отслеживанием состояний вершин.

### Алгоритм

Используется классический алгоритм DFS с тремя цветами вершин:
- **Белый (0)** - вершина не посещена
- **Серый (1)** - вершина находится в процессе обработки (в текущем пути DFS)
- **Черный (2)** - вершина полностью обработана

**Принцип обнаружения цикла:** если при обходе встречается вершина в сером состоянии, это означает наличие обратного ребра, что указывает на цикл.

### Сложность

- **Временная сложность:** O(V + E), где V - количество вершин, E - количество рёбер
- **Пространственная сложность:** O(V) для хранения состояний вершин и стека рекурсии

## Структура проекта

graph-cycle-detector/
│
├── graph_cycle_detector.py # Основной модуль программы
├── test_graph_cycle_detector.py # Модульные тесты
├── run_test.py # Демонстрационные примеры
├── README.md # Документация
├── LICENSE # Лицензия MIT
└── .gitignore # Игнорируемые файлы Git

text

## Требования

- Python 3.7 или выше
- Стандартная библиотека Python (дополнительных зависимостей нет)

## Установка


# Клонирование репозитория
git clone https://github.com/YOUR_USERNAME/graph-cycle-detector.git
cd graph-cycle-detector

# Проверка версии Python
python --version
Использование
Формат входных данных
text
n m
u1 v1
u2 v2
...
um vm
Где:

n - количество вершин

m - количество рёбер

ui vi - ребро от вершины ui к вершине vi

Формат выходных данных
YES - если в графе есть цикл

NO - если граф ациклический

Примеры запуска
Способ 1: Ввод из файла
Создайте файл input.txt:

text
4 5
1 2
2 3
3 4
4 2
1 3
Запуск в CMD:

bash
python graph_cycle_detector.py < input.txt
Запуск в PowerShell:

powershell
Get-Content input.txt | python graph_cycle_detector.py
Способ 2: Интерактивный ввод
bash
python graph_cycle_detector.py
# Введите данные с клавиатуры
Способ 3: Программное использование
python
from graph_cycle_detector import GraphCycleDetector

# Создание графа (список смежности)
graph = {
    1:,[1]
    2:,[2]
    3:[3]
}

# Проверка на циклы
detector = GraphCycleDetector(graph)
has_cycle = detector.has_cycle()
print("YES" if has_cycle else "NO")
Примеры
Пример 1: Граф с циклом
Вход:

text
3 3
1 2
2 3
3 1
Выход:

text
YES
Объяснение: Цикл 1 → 2 → 3 → 1

Пример 2: Ациклический граф (DAG)
Вход:

text
4 4
1 2
1 3
2 4
3 4
Выход:

text
NO
Объяснение: Граф не содержит циклов

Пример 3: Граф с петлей
Вход:

text
2 2
1 1
1 2
Выход:

text
YES
Объяснение: Вершина 1 имеет петлю (ребро в саму себя)

Тестирование
Запуск модульных тестов
bash
# Запуск всех тестов
python -m unittest test_graph_cycle_detector.py

# Запуск с подробным выводом
python -m unittest test_graph_cycle_detector.py -v

# Запуск конкретного теста
python -m unittest test_graph_cycle_detector.TestGraphCycleDetector.test_simple_cycle
Запуск демонстрационных примеров
bash
python run_test.py
Покрытие тестами
Тесты покрывают следующие сценарии:

✅ Простой цикл из трёх вершин

✅ Линейный граф без циклов

✅ Граф с петлей (self-loop)

✅ Несвязный граф с циклом

✅ Сложный граф с несколькими путями

✅ Направленный ациклический граф (DAG)

✅ Пустой граф

✅ Одна вершина без рёбер

Проверка стиля кода
bash
# Установка инструментов (если требуется)
pip install pylint flake8

# Проверка с помощью pylint
pylint graph_cycle_detector.py

# Проверка с помощью flake8
flake8 graph_cycle_detector.py --max-line-length=100
